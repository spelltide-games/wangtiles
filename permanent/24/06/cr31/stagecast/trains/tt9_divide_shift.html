<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/trains.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<!-- InstanceBeginEditable name="doctitle" -->
<title>Divider</title>
<!-- InstanceEndEditable -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- #BeginEditable "Meta" -->
<link rel="stylesheet" href="../trains/text.css" type="text/css">
<script src="../js/trains.js" type="text/JavaScript"></script>
<script src="../js/trains_divide.js" type="text/JavaScript"></script>
<meta name="description" content="Turing trains, computational, traintrack layouts">
<meta name="keywords" content="Turing, computational, logic, mechanical computer, mechanical logic, traintrack, layout, Duplo points, logic gates, plans">
<!-- #EndEditable -->
</head>

<body>
<table class="tabs">
	<tr>
		<td>
			<p>
				⚠️This site is a mirror of <a href="http://www.cr31.co.uk/stagecast">Guy Walker's Stagecast</a>⚠️
			</p>
		</td>
	</tr>
</table>
<table cellspacing="0" cellpadding="0" class="tabs">
	<tr>
		<td class="main"><p>Turing Trains | <a href="../../iso/iso.html">Isometric</a> | <a href="../wang/intro.html">Wang Tiles</a> | <a href="../wang/stage.html">Maze Arrays</a> | <a href="../../logojs/logo.html">i Logo</a></p></td>
		<td class="side"><p><a href="../../index.html">HOME</a></p></td>
	</tr>
</table>
<table cellspacing="0" cellpadding="0" class="head">
	<tr>
		<td class="main"><h1>Turing Trains</h1></td>
		<td class="side">&nbsp;</td>
	</tr>
</table>
<table cellspacing="0" cellpadding="0" class="strap">
	<tr>
		<td class="main"><p>computational train track layouts</p></td>
		<td class="side"><p>menu</p></td>
	</tr>
</table>
<table cellspacing="0" cellpadding="0" class="cont">
	<tr>
		<td class="main"><div class="content"><!-- InstanceBeginEditable name="contents" -->
				<h2>Divide A/B (shift reg)</h2>
				<p>This layout divides <strong>A</strong> by <strong>B</strong> using a shift register. It displays the output as <strong>Q</strong> remainder <strong>r</strong>. <br>
				eg. 14/4 = 3 rem 2. <br>
				Division is the most difficult operator to implement. The layout conducts a 'long division' calculation. It uses the following functions:</p>
				<ol>
					<li><a href="tt2_func_linked.html#read">Sequential Read</a> of register <strong>A</strong> into <strong>r</strong> register.</li>
					<li><a href="tt2_func_shift.html#shift_l">Shift Left</a> of <strong>r</strong> register.</li>
					<li><a href="tt2_func_linked.html#comp">Compare</a> <strong>B</strong> and <strong>r</strong> register.</li>
					<li><a href="tt2_func_single.html#sub">Subtract</a> <strong>B</strong> from <strong>r</strong>.</li>
					<li><a href="tt2_func_shift.html#shift_l">Shift Left</a> of output <strong>Q</strong> register.</li>
				</ol>
<p>There are also several small circuits on the right hand side. These prevent shifts of empty registers, so speeding up the long division operation.</p>
				<ol>
					<li>The first, just below the start, detects any leading zeros and returns the train to read out the next bit from <strong>A</strong>. </li>
					<li>A 'first return latch' returns the first <strong>1</strong> read out from <strong>A</strong> and prevents a shift of an empty <strong>r</strong> register.</li>
					<li>Finally, the pair of linked points prevents shifts of register <strong>Q</strong> until it holds a <strong>1</strong>.</li>
				</ol>
<h3>How it works</h3>
				<p>Each bit is read out from <strong>A</strong> in turn. Any leading <strong>0</strong>'s are returned. <br>
				When a <strong>1</strong> is read out it is held in a single 'hold' point.<br>
				Registers <strong>r</strong> and <strong>Q</strong> are shifted left (if not empty). LSB's are set to <strong>0</strong>.<br>
The held <strong>1</strong> is read into register <strong>r</strong> LSB.<br>
If <strong>B</strong> is less than <strong>r</strong> then <strong>B</strong> is subtracted from <strong>r</strong> and a <strong>1</strong> is placed into register <strong>Q</strong> LSB. </p>
				<p>Note that the inputs to both shift left functions are shared lines with the output line from the function above.</p>
				<h3>Operation</h3>
				<p>Enter numerator into register <strong>A</strong> and denominator into register <strong>B</strong> (eg 15/3 or 27/5) and set the train running. Only points in the <strong>A</strong>, <strong>B</strong> along with <strong>Q</strong> and <strong>r</strong> registers can be changed.</p>
				<table cellpadding="0" cellspacing="0" class="play" id="t_bg">
					<tr>
								<td><img src="grab/tt9/divide.png" alt="Divider layout" width="864" height="960" onclick="swit('t_999')">
									<div class="sprites">
										<textarea id="t_tens1" readonly></textarea>
										<textarea id="t_tens2" readonly></textarea>
										<textarea id="t_tens3" readonly></textarea>
										<textarea id="t_tens4" readonly></textarea>
										<img src="loco/8le.gif" alt="" width="32" height="32" id="t_0" onclick="swit(this.id)">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_1">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_2">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_3">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_4">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_5">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_6" onclick="swit(this.id)">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_7" onclick="swit(this.id)">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_8" onclick="swit(this.id)">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_9" onclick="swit(this.id)">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_10" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_11">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_12">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_13">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_14" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_15">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_16">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_17">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_18" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_19">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_20">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_21">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_22" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_23">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_24">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_25">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_26" onclick="swit(this.id)">
										<img src="point_/7d_1.gif" alt="" width="32" height="32" id="t_27">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_28">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_29">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_30" onclick="swit(this.id)">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_31" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_32">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_33" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_34">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_35" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_36">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_37" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_38">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_39" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_40">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_41" onclick="swit(this.id)">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_42" onclick="swit(this.id)">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_43" onclick="swit(this.id)">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_44" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_45">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_46" onclick="swit(this.id)">
										<img src="point_/13r_1.gif" alt="" width="32" height="32" id="t_47">
										<img src="point_/13r_1.gif" alt="" width="32" height="32" id="t_48">
										<img src="point_/13r_1.gif" alt="" width="32" height="32" id="t_49">
										<img src="point_/13r_1.gif" alt="" width="32" height="32" id="t_50">
										<img src="point_/7d_1.gif" alt="" width="32" height="32" id="t_51">
										<img src="point_/13d_1.gif" alt="" width="32" height="32" id="t_52">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_53">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_54">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_55">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_56">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_57">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_58">
										<img src="loco/4.gif" alt="" width="32" height="32" id="t_loco">
										<img src="loco/over.gif" alt="" width="36" height="36" id="t_over">
									</div></td>
							</tr>
						</table><!-- #BeginLibraryItem "/Library/interactive.lbi" --><table cellpadding="0" cellspacing="0" class="ii">
	<tr>
		<td>Click layout to pause/run train</td>
		<td>Click points to switch 0/1</td>
		<td>Click start circle to reset train/points</td>
	</tr>
</table>
<!-- #EndLibraryItem --><!-- #BeginLibraryItem "/Library/points.lbi" --><table cellpadding="0" cellspacing="0" class="ji">
	<tr>
		<td><img src="extra/7y_0.gif" alt="lazy point" width="32" height="32"></td>
		<td>Lazy points switch between upper <strong>0</strong> or lower <strong>1</strong> branch lines<br>
			Trains arriving on a branch line switch the point to that line</td>
	</tr>
	<tr>
		<td><img src="track/11a.gif" alt="sprung point" width="32" height="32"></td>
		<td>Sprung points allow branch line trains to join the main line<br>
			All main line trains go straight ahead and never 'branch off'</td>
	</tr>
</table><!-- #EndLibraryItem --><h3>Zero</h3>
<p>If <strong>A</strong> is <strong>0</strong> the circuit outputs a <strong>0</strong>, as anything divided by 0 is 0.<br>
	If <strong>B</strong> is <strong>0</strong> the comparator will produce a 'divide by zero' error, as anything divided by 0 is infinite and cannot be computed. The pair of linked lazy points circuit detects if <strong>B</strong> is <strong>0</strong> on the first use of the comparator. </p>
<p>In this circuit 0/0 is output as 0, instead of 'undetermined', as the denominator is checked first. In a Duplo computer, its best to check the value of <strong>A</strong> with a '<a href="tt2_func_gates.html#NORs">Zero Detect</a>' function before using the divider circuit.</p>
		<!-- InstanceEndEditable --><!-- end .content --></div></td>
		<td class="side"><ul>
				<li><strong><a href="tt0_int.html">Intro</a></strong></li>
				<li><a href="tt0_intro.html">Train &amp; Track</a></li>
				<li><a href="tt1_points.html">Lazy Points</a></li>
				<li><a href="tt1_subs.html">Sprung Points</a></li>
				<li><strong><a href="tt2_func.html">Functions</a></strong></li>
				<li><a href="tt2_func_single.html">Single Point</a></li>
				<li><a href="tt2_func_linked.html">Linked Points</a></li>
				<li><a href="tt2_func_compo.html">Compound</a></li>
				<li><a href="tt2_func_shift.html">Shift &amp; Rotate</a></li>
				<li><a href="tt2_func_flipflop.html">Flip-flops</a></li>
				<li><a href="tt2_func_gates.html">Logic Gates</a></li>
				<li><strong><a href="tt9_lout.html">Layouts</a></strong></li>
				<li><a href="tt9_ramp.html">Count Up/Down</a></li>
				<li><a href="tt9_follower.html">Input Follower</a></li>
				<li><a href="tt9_ham.html">Hamming Weight</a></li>
				<li><a href="tt9_addsub.html">Add/Subtract</a></li>
				<li><a href="tt9_tri_num.html">Triangle Num</a></li>
				<li><a href="tt9_tri_seq.html">Triangle Seq</a></li>
				<li><a href="tt9_multi.html">Multiply</a></li>
				<li><a href="tt9_divide.html">Divide</a></li>
				<li><a href="tt9_multi_shift.html">Multiply (shift)</a></li>
				<li><a href="tt9_divide_shift.html">Divide (shift)</a></li>
				<li><a href="tt9_aver.html">Average</a></li>
				<li><a href="tt9_subtract.html">2's Compliment</a></li>
				<li><a href="tt9_mem.html">Memory Cell</a></li>
				<li><a href="tt9_pascal.html">Pascal's Triangle</a></li>
				<li><a href="tt9_lang.html">Langton's Ant</a></li>
				<li><a href="tt9_rng.html">Random Number</a></li>
				<li><a href="tt7_digicomp.html">Digi-Comp</a></li>
				<li><a href="tt7_turing.html">Busy Beaver</a></li>
				<li><a href="tt7_turing_mc.html">Turing Machine</a></li>
				<li><strong><a href="tt3_univ.html">Computer</a></strong></li>
				<li><a href="tt3_ham.html">Hamming Weight</a></li>
				<li><a href="tt3_tri_basic.html">Triangular Seq</a></li>
				<li><a href="tt3_fibonacci.html">Fibonacci Seq</a></li>
				<!--<li><a href="../stagecast/trains/tu4_multiplier.html">Multiplier</a></li>-->
				<li><a href="tt3_syard.html">Switching Yard</a></li>
				<!--<li><strong>Info</strong></li>-->
				<!--<li><strong><a href="#.html">Info</a></strong></li>-->
				<li><strong><a href="tt8_info.html">Projects</a></strong></li>
				<li><a href="tt8_equiv.html">Equiv Circuits</a></li>
				<li><a href="tt8_auto_run.html">Auto Switching</a></li>
				<li><a href="tt8_duplo_lout.html">Duplo Layouts</a></li>
				<li><a href="tt8_duplo_comp.html">Duplo Computer</a></li>
				<li><a href="tt8_mech_logic.html">Mechanical Logic</a></li>
				<li><strong>&nbsp;</strong></li>
			</ul></td>
	</tr>
</table>
<table cellspacing="0" cellpadding="0" class="foot">
	<tr>
		<td class="main"><p>cr31.co.uk</p></td>
		<td class="side">&nbsp;</td>
	</tr>
</table>
<table cellspacing="0" cellpadding="0" class="base">
	<tr>
		<td class="main"><p> zoom in to enlarge layouts</p></td>
		<td class="side">&nbsp;</td>
	</tr>
</table>
</body>
<!-- InstanceEnd --></html>
