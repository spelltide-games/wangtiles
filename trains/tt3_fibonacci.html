<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/trains.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<!-- InstanceBeginEditable name="doctitle" -->
<title>Fibonacci Series</title>
<!-- InstanceEndEditable -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- #BeginEditable "Meta" -->
<link rel="stylesheet" href="../trains/text.css" type="text/css">
<script src="../js/trains.js" type="text/JavaScript"></script>
<script src="../js/trains_fib.js" type="text/JavaScript"></script>
<meta name="description" content="Turing trains, computational, traintrack layouts">
<meta name="keywords" content="Turing, computational, logic, mechanical computer, mechanical logic, traintrack, layout, Duplo points, logic gates, plans">
<!-- #EndEditable -->
</head>

<body>
<table class="tabs">
	<tr>
		<td>
			<p>
				⚠️This site is a mirror of <a href="http://www.cr31.co.uk/stagecast">Guy Walker's Stagecast</a>⚠️
			</p>
		</td>
	</tr>
</table>
<table cellspacing="0" cellpadding="0" class="tabs">
	<tr>
		<td class="main"><p>Turing Trains | <a href="../../iso/iso.html">Isometric</a> | <a href="../wang/intro.html">Wang Tiles</a> | <a href="../wang/stage.html">Maze Arrays</a> | <a href="../../logojs/logo.html">i Logo</a></p></td>
		<td class="side"><p><a href="../../index.html">HOME</a></p></td>
	</tr>
</table>
<table cellspacing="0" cellpadding="0" class="head">
	<tr>
		<td class="main"><h1>Turing Trains</h1></td>
		<td class="side">&nbsp;</td>
	</tr>
</table>
<table cellspacing="0" cellpadding="0" class="strap">
	<tr>
		<td class="main"><p>computational train track layouts</p></td>
		<td class="side"><p>menu</p></td>
	</tr>
</table>
<table cellspacing="0" cellpadding="0" class="cont">
	<tr>
		<td class="main"><div class="content"><!-- InstanceBeginEditable name="contents" -->
				<h2>Fibonacci Number Sequence				</h2>
				<table cellpadding="0" cellspacing="0" class="lout">
					<tr>
						<td><p>Fibonacci numbers form the sequence 0, 1, 1, 2, 3, 5, 8, 13, etc. The next term is the sum of the previous two terms, <strong>A</strong>+<strong>B</strong>. The n<sup>th</sup> term is held in register <strong>S</strong>.</p>
<p>The initial values for the first two terms are <strong>0</strong> (in register <strong>A</strong>) and a <strong>1</strong> (in register <strong>B</strong>). They can be set to different values, but leaving both set to <strong>0</strong> produces (correctly) a sequence of zeros.</p>
<h3>Program</h3>
<p>We need 5 registers:</p>
<ol>
	<li>Input register <strong>n</strong>, set to n<sup>th</sup> term required.</li>
	<li>Count register <strong>C</strong> which will be incremented.</li>
	<li>Data register <strong>A</strong> for the first term.</li>
	<li>Data register <strong>B</strong> for the second term.</li>
	<li>Sum register <strong>S</strong> of <strong>A</strong>+<strong>B</strong>.</li>
</ol></td>
						<td><table cellpadding="0" cellspacing="0" class="tab">
								<tr class="tabtop">
									<td>Count<br>
										reg C</td>
									<td>data<br>
										reg A</td>
									<td>data<br>
										reg B</td>
									<td>Sum<br>
										reg S</td>
								</tr>
								<tr>
									<td>0<br>
										1<br>
										2<br>
										3<br>
										4<br>
										5<br>
										6<br>
										7</td>
									<td>0<br>
										1<br>
										0<br>
										1<br>
										1<br>
										2<br>
										3<br>
										5</td>
									<td>1<br>
										0<br>
										1<br>
										1<br>
										2<br>
										3<br>
										5<br>
										8</td>
									<td>0<br>
										1<br>
										1<br>
										2<br>
										3<br>
										5<br>
										8<br>
										13</td>
								</tr>
							</table></td>
					</tr>
				</table>
				<p>To run a calculation, registers <strong>A</strong> and <strong>B</strong> are set to the first two terms, and the input register <strong>n</strong> to the n<sup>th</sup> term required. The train then follows the main program loop: </p>
				<ul>
					<li>1/ If Count = <strong>n</strong> then Halt. Else...</li>
					<li> 2/ Increment Count</li>
					<li>4/ Copy <strong>B</strong> to <strong>A</strong></li>
					<li>5/ Copy <strong>S</strong> to <strong>B</strong></li>
					<li> Add <strong>A</strong> to <strong>S</strong>. This is the same as placing <strong>A</strong>+<strong>B</strong> into <strong>S</strong>.</li>
				</ul>
				<p>The 5 step loop uses 5 functions, requiring 6 MUX lines:</p>
				<ol>
					<li><a href="tt2_func_linked.html#comp">Comparator</a> function, to Halt if Count = Input (requires 2 MUX lines)</li>
					<li><a href="tt2_func_single.html#inc">Count Up</a> function, to increment register C</li>
					<li><a href="tt2_func_single.html#add">Acumulator</a> function, to add value of <strong>A</strong> to <strong>S</strong></li>
					<li><a href="tt2_func_single.html#copy">Copy</a> function, to copy register <strong>B</strong> to <strong>A</strong></li>
					<li><a href="tt2_func_single.html#copy">Copy</a> function, to copy register <strong>S</strong> to <strong>B</strong></li>
				</ol>
				<p>The functions are stacked in such a manner as to to allow efficient vertical linking of the data register points. We need 6 MUX lines (the Comparator requires 2). The program loop needs to cross over two pairs of lines to carry out the sequence 1,2,3,5,4. The unused MUX lines are connected back to the error line, along with the comparator 'C&gt;n' line.</p>
				<table cellpadding="0" cellspacing="0" class="play" id="t_bg">
							<tr>
								<td><img src="grab/fibonacci.png" alt="fibonacci series calculator" width="736" height="1344" onclick="swit('t_999')">
									<div class="sprites">
										<textarea id="t_tens1" readonly></textarea>
										<textarea id="t_tens2" readonly></textarea>
										<textarea id="t_tens3" readonly></textarea>
										<textarea id="t_tens4" readonly></textarea>
										<textarea id="t_tens5" readonly></textarea>
										<img src="loco/10s.gif" alt="" width="32" height="32" id="t_0" onclick="swit(this.id)">
										<img src="point_/7t_1.gif" alt="" width="32" height="32" id="t_1" onclick="swit(this.id)">
										<img src="point_/7t_1.gif" alt="" width="32" height="32" id="t_2" onclick="swit(this.id)">
										<img src="point_/7t_1.gif" alt="" width="32" height="32" id="t_3" onclick="swit(this.id)">
										<img src="point_/7t_1.gif" alt="" width="32" height="32" id="t_4" onclick="swit(this.id)">
										<img src="point_/7t_1.gif" alt="" width="32" height="32" id="t_5" onclick="swit(this.id)">
										<img src="point_/7t_1.gif" alt="" width="32" height="32" id="t_6" onclick="swit(this.id)">
										<img src="point_/7t_1.gif" alt="" width="32" height="32" id="t_7" onclick="swit(this.id)">
										<img src="point_/7t_1.gif" alt="" width="32" height="32" id="t_8" onclick="swit(this.id)">
										<img src="point_/7t_1.gif" alt="" width="32" height="32" id="t_9" onclick="swit(this.id)">
										<img src="point_/7t_1.gif" alt="" width="32" height="32" id="t_10" onclick="swit(this.id)">
										<img src="point_/7t_1.gif" alt="" width="32" height="32" id="t_11" onclick="swit(this.id)">
										<img src="point_/7t_1.gif" alt="" width="32" height="32" id="t_12" onclick="swit(this.id)">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_13" onclick="swit(this.id)">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_14" onclick="swit(this.id)">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_15" onclick="swit(this.id)">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_16" onclick="swit(this.id)">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_17" onclick="swit(this.id)">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_18" onclick="swit(this.id)">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_19" onclick="swit(this.id)">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_20" onclick="swit(this.id)">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_21" onclick="swit(this.id)">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_22" onclick="swit(this.id)">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_23" onclick="swit(this.id)">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_24" onclick="swit(this.id)">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_25" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_26" onclick="swit(this.id)">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_27" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_28" onclick="swit(this.id)">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_29" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_30" onclick="swit(this.id)">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_31" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_32" onclick="swit(this.id)">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_33" onclick="swit(this.id)">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_34" onclick="swit(this.id)">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_35" onclick="swit(this.id)">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_36" onclick="swit(this.id)">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_37" onclick="swit(this.id)">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_38" onclick="swit(this.id)">
										<img src="point_/13y_1.gif" alt="" width="32" height="32" id="t_39" onclick="swit(this.id)">
										<img src="point_/13b_1.gif" alt="" width="32" height="32" id="t_40" onclick="swit(this.id)">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_41" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_42" onclick="swit(this.id)">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_43" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_44" onclick="swit(this.id)">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_45" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_46" onclick="swit(this.id)">
										<img src="point_/7y_1.gif" alt="" width="32" height="32" id="t_47" onclick="swit(this.id)">
										<img src="point_/7b_1.gif" alt="" width="32" height="32" id="t_48" onclick="swit(this.id)">
										<img src="point_/13r_1.gif" alt="" width="32" height="32" id="t_49" onclick="swit(this.id)">
										<img src="point_/13r_1.gif" alt="" width="32" height="32" id="t_50" onclick="swit(this.id)">
										<img src="point_/13r_1.gif" alt="" width="32" height="32" id="t_51" onclick="swit(this.id)">
										<img src="loco/4.gif" alt="" width="32" height="32" id="t_loco">
										<img src="loco/over.gif" alt="" width="36" height="36" id="t_over">
									</div></td>
							</tr>
						</table><!-- #BeginLibraryItem "/Library/interactive.lbi" --><table cellpadding="0" cellspacing="0" class="ii">
	<tr>
		<td>Click layout to pause/run train</td>
		<td>Click points to switch 0/1</td>
		<td>Click start circle to reset train/points</td>
	</tr>
</table>
<!-- #EndLibraryItem --><!-- #BeginLibraryItem "/Library/points.lbi" --><table cellpadding="0" cellspacing="0" class="ji">
	<tr>
		<td><img src="extra/7y_0.gif" alt="lazy point" width="32" height="32"></td>
		<td>Lazy points switch between upper <strong>0</strong> or lower <strong>1</strong> branch lines<br>
			Trains arriving on a branch line switch the point to that line</td>
	</tr>
	<tr>
		<td><img src="track/11a.gif" alt="sprung point" width="32" height="32"></td>
		<td>Sprung points allow branch line trains to join the main line<br>
			All main line trains go straight ahead and never 'branch off'</td>
	</tr>
</table><!-- #EndLibraryItem --><h3>Notes</h3>
<p>The usual values of registers <strong>A</strong> and <strong>B</strong> is <strong>0</strong> and <strong>1</strong>, which produces the default Fibonacci sequence.<br>
	Setting <strong>A</strong>=0 and <strong>B</strong>=1 will generate the sequence 0, 1, 1, 2, 3, 5, 8 and 13.<br>
	Setting <strong>A</strong>=0 and <strong>B</strong>=2 will generate the sequence 0, 2, 2, 4, 6 and 10.<br>
	Setting <strong>A</strong>=0 and <strong>B</strong>=3 will generate the sequence 0, 3, 3, 6, 9 and 15 etc.</p>
<p>After the train has halted, increment <strong>n</strong> to calculate further terms. If <strong>n</strong> is set to less than <strong>C</strong> though, an error occurs.</p>
		<!-- InstanceEndEditable --><!-- end .content --></div></td>
		<td class="side"><ul>
				<li><strong><a href="tt0_int.html">Intro</a></strong></li>
				<li><a href="tt0_intro.html">Train &amp; Track</a></li>
				<li><a href="tt1_points.html">Lazy Points</a></li>
				<li><a href="tt1_subs.html">Sprung Points</a></li>
				<li><strong><a href="tt2_func.html">Functions</a></strong></li>
				<li><a href="tt2_func_single.html">Single Point</a></li>
				<li><a href="tt2_func_linked.html">Linked Points</a></li>
				<li><a href="tt2_func_compo.html">Compound</a></li>
				<li><a href="tt2_func_shift.html">Shift &amp; Rotate</a></li>
				<li><a href="tt2_func_flipflop.html">Flip-flops</a></li>
				<li><a href="tt2_func_gates.html">Logic Gates</a></li>
				<li><strong><a href="tt9_lout.html">Layouts</a></strong></li>
				<li><a href="tt9_ramp.html">Count Up/Down</a></li>
				<li><a href="tt9_follower.html">Input Follower</a></li>
				<li><a href="tt9_ham.html">Hamming Weight</a></li>
				<li><a href="tt9_addsub.html">Add/Subtract</a></li>
				<li><a href="tt9_tri_num.html">Triangle Num</a></li>
				<li><a href="tt9_tri_seq.html">Triangle Seq</a></li>
				<li><a href="tt9_multi.html">Multiply</a></li>
				<li><a href="tt9_divide.html">Divide</a></li>
				<li><a href="tt9_multi_shift.html">Multiply (shift)</a></li>
				<li><a href="tt9_divide_shift.html">Divide (shift)</a></li>
				<li><a href="tt9_aver.html">Average</a></li>
				<li><a href="tt9_subtract.html">2's Compliment</a></li>
				<li><a href="tt9_mem.html">Memory Cell</a></li>
				<li><a href="tt9_pascal.html">Pascal's Triangle</a></li>
				<li><a href="tt9_lang.html">Langton's Ant</a></li>
				<li><a href="tt9_rng.html">Random Number</a></li>
				<li><a href="tt7_digicomp.html">Digi-Comp</a></li>
				<li><a href="tt7_turing.html">Busy Beaver</a></li>
				<li><a href="tt7_turing_mc.html">Turing Machine</a></li>
				<li><strong><a href="tt3_univ.html">Computer</a></strong></li>
				<li><a href="tt3_ham.html">Hamming Weight</a></li>
				<li><a href="tt3_tri_basic.html">Triangular Seq</a></li>
				<li><a href="tt3_fibonacci.html">Fibonacci Seq</a></li>
				<!--<li><a href="../stagecast/trains/tu4_multiplier.html">Multiplier</a></li>-->
				<li><a href="tt3_syard.html">Switching Yard</a></li>
				<!--<li><strong>Info</strong></li>-->
				<!--<li><strong><a href="#.html">Info</a></strong></li>-->
				<li><strong><a href="tt8_info.html">Projects</a></strong></li>
				<li><a href="tt8_equiv.html">Equiv Circuits</a></li>
				<li><a href="tt8_auto_run.html">Auto Switching</a></li>
				<li><a href="tt8_duplo_lout.html">Duplo Layouts</a></li>
				<li><a href="tt8_duplo_comp.html">Duplo Computer</a></li>
				<li><a href="tt8_mech_logic.html">Mechanical Logic</a></li>
				<li><strong>&nbsp;</strong></li>
			</ul></td>
	</tr>
</table>
<table cellspacing="0" cellpadding="0" class="foot">
	<tr>
		<td class="main"><p>cr31.co.uk</p></td>
		<td class="side">&nbsp;</td>
	</tr>
</table>
<table cellspacing="0" cellpadding="0" class="base">
	<tr>
		<td class="main"><p> zoom in to enlarge layouts</p></td>
		<td class="side">&nbsp;</td>
	</tr>
</table>
</body>
<!-- InstanceEnd --></html>
